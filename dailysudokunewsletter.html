<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Sudoku Newsletter Info</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            color: #0056b3;
            text-align: center;
        }
        h1 {
            margin-bottom: 20px;
        }
        p {
            margin-bottom: 10px;
        }
        a {
            color: #007bff;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        .section:last-child {
            border-bottom: none;
        }
        .highlight {
            font-weight: bold;
            color: #d9534f; /* A reddish color for emphasis */
        }
        .email-address {
            font-family: 'Courier New', monospace;
            background-color: #e9e9e9;
            padding: 2px 6px;
            border-radius: 4px;
            white-space: nowrap; /* Keep it on one line if possible */
        }
        .countdown {
            font-size: 2.2em;
            text-align: center;
            margin: 20px 0;
            color: #28a745; /* Green for countdown */
            font-weight: bold;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        .footer {
            margin-top: 40px;
            text-align: center;
            font-size: 0.9em;
            color: #777;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Welcome to the Daily Sudoku Newsletter!</h1>
        <p>Your daily dose of brain-teasing puzzles, delivered straight to your inbox.</p>

        <div class="section">
            <h2>How to Subscribe & Unsubscribe</h2>
            <p>Managing your subscription is easy! Just send an email to our bot from the email address you wish to subscribe or unsubscribe.</p>
            <p><strong>Bot Email Address:</strong> <span class="email-address">dailysudoku2025@gmail.com</span></p>

            <h3>To Subscribe:</h3>
            <ul>
                <li>Send an email to <span class="email-address">dailysudoku2025@gmail.com</span></li>
                <li>Set the <span class="highlight">Subject</span> of the email to: <span class="highlight">"subscribe"</span> (or just "sub")</li>
                <li>You'll receive a confirmation email shortly.</li>
            </ul>

            <h3>To Unsubscribe:</h3>
            <ul>
                <li>Send an email to <span class="email-address">dailysudoku2025@gmail.com</span></li>
                <li>Set the <span class="highlight">Subject</span> of the email to: <span class="highlight">"unsubscribe"</span> (or just "unsub")</li>
                <li>You'll receive a confirmation email when you've been removed from the list.</li>
            </ul>
            <p>Please ensure you send the email from the address you wish to manage.</p>
        </div>

        <div class="section">
            <h2>Next Sudoku Puzzle Countdown</h2>
            <p>Your next daily Sudoku puzzle is sent out promptly at <span class="highlight">12:00 PM CEST (Arese, Italy time)</span> every day.</p>
            <p>Time remaining until the next puzzle:</p>
            <div class="countdown" id="countdown">Loading countdown...</div>
        </div>

        <div class="section">
            <h2>Daily Difficulty Schedule</h2>
            <p>The difficulty of your daily Sudoku puzzle varies to keep things interesting throughout the week:</p>
            <table>
                <thead>
                    <tr>
                        <th>Day of the Week</th>
                        <th>Difficulty Level</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Monday</td><td>Easy</td></tr>
                    <tr><td>Tuesday</td><td>Medium</td></tr>
                    <tr><td>Wednesday</td><td>Hard</td></tr>
                    <tr><td>Thursday</td><td>Medium</td></tr>
                    <tr><td>Friday</td><td>Very Hard</td></tr>
                    <tr><td>Saturday</td><td>Very Easy (Weekend Chill)</td></tr>
                    <tr><td>Sunday</td><td>Expert (Sunday Challenge)</td></tr>
                </tbody>
            </table>
            <p style="font-size: 0.9em; color: #666; margin-top: 15px;">
                Note: These are approximations based on the bot's internal difficulty levels (0-5).
            </p>
        </div>

        <div class="footer">
            <p>&copy; 2025 Daily Sudoku Newsletter. Developed by Ricky Zangarini (with a little help from Gemini).</p>
        </div>
    </div>

    <script>
        function updateCountdown() {
            const now = new Date(); // User's current local time

            // Define the target time: 12:00 PM CEST (Central European Summer Time)
            // CEST is UTC+2. So, 12:00 PM CEST is 10:00 AM UTC.
            
            let targetHourUTC = 10; // 10 AM UTC
            let targetMinute = 0;
            let targetSecond = 0;

            // Create a Date object for today's target time in UTC.
            // Using Date.UTC() creates a Date object that internally represents that specific UTC moment.
            let nextDeliveryUTC = new Date(Date.UTC(
                now.getUTCFullYear(),   // Get current year in UTC
                now.getUTCMonth(),      // Get current month in UTC (0-indexed)
                now.getUTCDate(),       // Get current day of month in UTC
                targetHourUTC,          // Set target hour (10 AM UTC = 12 PM CEST)
                targetMinute,           // Set target minute
                targetSecond            // Set target second
            ));

            // If the current UTC time is past 12:00 PM CEST (which is 10:00 AM UTC) today,
            // then the target for the countdown should be 12:00 PM CEST tomorrow.
            // We compare 'now' using its UTC hours/minutes against our UTC target time.
            if (now.getUTCHours() > targetHourUTC || 
               (now.getUTCHours() === targetHourUTC && now.getUTCMinutes() >= targetMinute)) {
                nextDeliveryUTC.setUTCDate(nextDeliveryUTC.getUTCDate() + 1); // Add one day to the UTC date
            }

            // Calculate the time difference between the future UTC target and the current local time.
            // This difference will accurately reflect how much time is left until 12 PM CEST for the user.
            const timeLeft = nextDeliveryUTC.getTime() - now.getTime(); // Time difference in milliseconds

            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

            const countdownElement = document.getElementById('countdown');
            if (timeLeft < 0) {
                // If countdown goes negative (e.g., just after 12 PM CEST), show "sent" message
                countdownElement.innerHTML = "Puzzle should be sent now or very soon!";
            } else {
                countdownElement.innerHTML = 
                    `${String(hours).padStart(2, '0')}h ` +
                    `${String(minutes).padStart(2, '0')}m ` +
                    `${String(seconds).padStart(2, '0')}s`;
            }
        }

        // Update countdown every second
        setInterval(updateCountdown, 1000);
        // Run once immediately to avoid "Loading..." for 1 second
        updateCountdown(); 
    </script>
</body>
</html>
