<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sudoku Advent Calendar</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:system-ui,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px;transition:all .3s}
body.dark{background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%)}
body.dark .container{background:#0f3460;color:#e8e8e8}
body.dark h1,body.dark .day,body.dark .timer{color:#94b9ff}
body.dark .cell{background:#1a1a2e;border-color:#16213e;color:#e8e8e8}
body.dark .cell.given{background:#16213e;color:#b8b8b8}
body.dark .cell.filled{color:#94b9ff}
body.dark .cell.sel{background:#2d4a7c}
body.dark .cell.high{background:#3d3d1f}
body.dark .cand{color:#666}
body.dark button{background:#1a1a2e;color:#94b9ff;border-color:#94b9ff}
body.dark button.active,body.dark button:hover{background:#94b9ff;color:#1a1a2e}
.toggle{position:fixed;top:20px;right:20px;background:#fff;border:2px solid #667eea;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1.5em;z-index:100}
body.dark .toggle{background:#0f3460;border-color:#94b9ff}
.points{position:fixed;top:20px;left:20px;background:#fff;border:2px solid #667eea;border-radius:15px;padding:10px 20px;font-weight:bold;color:#667eea;z-index:100;cursor:pointer}
body.dark .points{background:#0f3460;color:#94b9ff;border-color:#94b9ff}
.container{background:#fff;border-radius:20px;padding:40px;box-shadow:0 20px 60px rgba(0,0,0,.3);max-width:600px;width:100%}
h1{text-align:center;color:#667eea;margin-bottom:10px;font-size:2.5em}
.sub{text-align:center;color:#666;margin-bottom:30px;font-size:1.1em}
.info{background:#f8f9fa;padding:20px;border-radius:10px;margin-bottom:20px;text-align:center}
.info h2{color:#764ba2;margin-bottom:10px}
.day{font-size:3em;font-weight:bold;color:#667eea;margin:10px 0}
.timer{font-size:1.5em;color:#667eea;margin-top:10px}
.grid{display:grid;grid-template-columns:repeat(9,1fr);gap:0;width:100%;aspect-ratio:1;margin:20px auto;border:3px solid #333;background:#333}
.cell{aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:1.5em;font-weight:bold;background:#fff;border:1px solid #ddd;cursor:pointer;position:relative}
.cell.given{background:#f0f0f0;color:#333;cursor:default}
.cell.filled{color:#667eea}
.cell.sel{background:#bbdefb}
.cell.high{background:#fff3cd}
.cell.err{background:#ffebee!important;color:#d32f2f!important}
body.dark .cell.err{background:#4d1f1f!important;color:#ff6b6b!important}
.cell:nth-child(3n){border-right:2px solid #333}
.cell:nth-child(n+19):nth-child(-n+27),.cell:nth-child(n+46):nth-child(-n+54){border-bottom:2px solid #333}
.cand{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);width:100%;height:100%;font-size:.35em;font-weight:normal;color:#999;gap:0}
.cand span{display:flex;align-items:center;justify-content:center}
.mode{display:flex;gap:10px;margin-bottom:15px;justify-content:center}
.mode button{padding:10px 20px;font-size:1em;font-weight:bold;border:2px solid #667eea;background:#fff;color:#667eea;border-radius:10px;cursor:pointer;flex:1}
.mode button.active{background:#667eea;color:#fff}
.ctrl{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;margin:20px 0}
.ctrl button{padding:15px;font-size:1.2em;font-weight:bold;border:2px solid #667eea;background:#fff;color:#667eea;border-radius:10px;cursor:pointer}
.act{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:20px}
.act button{padding:15px;font-size:1em;font-weight:bold;border:none;border-radius:10px;cursor:pointer}
.msg{text-align:center;padding:15px;margin-top:20px;border-radius:10px;font-weight:bold;display:none}
.msg.ok{background:#d4edda;color:#155724;display:block}
.msg.no{background:#f8d7da;color:#721c24;display:block}
.modal{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.8);display:none;justify-content:center;align-items:center;z-index:1000}
.modal.show{display:flex}
.mcontent{background:#fff;padding:40px;border-radius:20px;text-align:center;max-width:400px}
body.dark .mcontent{background:#0f3460;color:#e8e8e8}
.mstar{font-size:5em;margin:20px 0}
.mtitle{font-size:2em;color:#667eea;margin-bottom:10px}
body.dark .mtitle{color:#94b9ff}
.mtime{font-size:1.5em;margin:15px 0}
.mpoints{background:#fff3cd;padding:15px;border-radius:10px;margin:15px 0;font-size:1.1em}
body.dark .mpoints{background:#3d3d1f;color:#e8e8e8}
.locked{text-align:center;padding:30px;color:#666}
.licon{font-size:4em;margin-bottom:20px}
.stats{background:#f8f9fa;padding:20px;border-radius:10px;margin:20px 0}
body.dark .stats{background:#16213e;color:#e8e8e8}
.stats h3{color:#667eea;margin-bottom:15px}
body.dark .stats h3{color:#94b9ff}
.stat-row{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #ddd}
body.dark .stat-row{border-color:#333}
.stat-row:last-child{border:none}
</style>
</head>
<body>
<div class="toggle" onclick="toggleDark()">üåô</div>
<div class="points" onclick="showStats()" title="Click to view stats">üèÜ <span id="totalPoints">0</span></div>
<div class="container">
<h1>üéÑ Sudoku Advent üéÑ</h1>
<div class="sub">25 Days of Sudoku Techniques</div>
<div id="content"></div>
</div>
<script>
const KEY="do7'eggs";
const NAMES=["Hidden Single (Box) - Easy","Hidden Single (Box) - Hard","Hidden Single (Line) - Easy","Hidden Single (Line) - Hard","Locked Candidate - Easy","Locked Candidate - Hard","Naked Single - Easy","Naked Single - Hard","Naked Pair - Easy","Naked Pair - Hard","Hidden Pair - Easy","Hidden Pair - Hard","X-Wing - Easy","X-Wing - Hard","Skyscraper - Easy","Skyscraper - Hard","2-String Kite - Easy","2-String Kite - Hard","Y-Wing","XYZ-Wing","W-Wing","BUG+1","X-Chains","The Grand Finale"];
const SLUGS={"Hidden Single (Box) - Easy":"hidden-single","Hidden Single (Box) - Hard":"hidden-single","Hidden Single (Line) - Easy":"hidden-single-line","Hidden Single (Line) - Hard":"hidden-single-line","Locked Candidate - Easy":"locked-candidate","Locked Candidate - Hard":"locked-candidate","Naked Single - Easy":"naked-single","Naked Single - Hard":"naked-single","Naked Pair - Easy":"naked-pair","Naked Pair - Hard":"naked-pair","Hidden Pair - Easy":"hidden-pair","Hidden Pair - Hard":"hidden-pair","X-Wing - Easy":"x-wing","X-Wing - Hard":"x-wing","Skyscraper - Easy":"skyscraper","Skyscraper - Hard":"skyscraper","2-String Kite - Easy":"two-string-kite","2-String Kite - Hard":"two-string-kite","Y-Wing":"y-wing","XYZ-Wing":"xyz-wing","W-Wing":"w-wing","BUG+1":"bug-plus-one","X-Chains":"x-chain","The Grand Finale":"x-chain"};
let DATA,puzzle,init,grid,cand,sel,unlock=0,pencil=0,high,start,timer,wrongs=0,errs=new Set();
function getProgress(){const p=localStorage.getItem('sudokuProgress');return p?JSON.parse(p):{}}
function saveProgress(year,day,data){const p=getProgress();if(!p[year])p[year]={};p[year][day]=data;localStorage.setItem('sudokuProgress',JSON.stringify(p))}
function getTotalPoints(){const p=getProgress();let total=0;for(let y in p)for(let d in p[y])total+=p[y][d].points||0;return total}
function updatePointsDisplay(){$('totalPoints').textContent=getTotalPoints()}
function calculatePoints(day,ratio){let base=day===24?500:day*10;let timeBonus=Math.round(1000/ratio);let medalBonus=0;if(ratio<=1)medalBonus=300;else if(ratio<=1.5)medalBonus=200;else if(ratio<=2)medalBonus=100;return{base,timeBonus,medalBonus,total:base+timeBonus+medalBonus}}
async function load(){try{DATA=await(await fetch('https://ricky295.github.io/puzzles.json')).json();init2();keys();loadDark();updatePointsDisplay()}catch(e){$('content').innerHTML='<div class="locked"><div class="licon">‚ùå</div><h2>Error Loading Puzzles</h2></div>'}}
function keys(){document.addEventListener('keydown',e=>{if(!puzzle)return;if(e.key>='1'&&e.key<='9'){e.preventDefault();place(+e.key)}else if(e.key==='Backspace'||e.key==='Delete'){e.preventDefault();clear()}else if(['ArrowUp','ArrowDown','ArrowLeft','ArrowRight'].includes(e.key)){e.preventDefault();nav(e.key)}else if(e.key==='p'||e.key==='P'||e.key===' '){e.preventDefault();setMode(!pencil)}})}
function nav(d){if(sel===null){sel=0;high=null;drawGrid();return}let r=~~(sel/9),c=sel%9;if(d==='ArrowUp')r=r>0?r-1:8;else if(d==='ArrowDown')r=r<8?r+1:0;else if(d==='ArrowLeft')c=c>0?c-1:8;else if(d==='ArrowRight')c=c<8?c+1:0;sel=r*9+c;high=null;drawGrid()}
function $(id){return document.getElementById(id)}
function params(){const p=new URLSearchParams(location.search);return{y:p.get('year')||p.get('y'),d:p.get('day')||p.get('d'),k:p.get('key')}}
function now(){const d=new Date();return{y:d.getFullYear(),m:d.getMonth()+1,d:d.getDate()}}
function init2(){const u=params(),n=now();if(u.k===KEY)unlock=1;if(u.y&&u.d){if(canAccess(u.y,+u.d,n)){loadP(u.y,+u.d);return}showLock(u.y,+u.d);return}if(n.m===12&&n.d>=1&&n.d<=24)loadP(n.y+'',n.d);else if(n.m===12&&n.d===25)showCong();else showCount()}
function canAccess(y,d,n){if(unlock)return 1;const yn=+y;if(n.m!==12)return 0;if(yn<n.y)return 1;if(yn>n.y)return 0;return d<=n.d&&d<=24}
function loadP(y,d){const pa=DATA[y];if(!pa||d<1||d>pa.length)return;const[puz,sol,st]=pa[d-1],name=NAMES[d-1],slug=SLUGS[name];puzzle={y,d,name,sol:sol.split('').map(c=>+c),st,slug};init=puz.split('').map(c=>c==='0'?0:+c);grid=[...init];cand=Array(81).fill(0).map(()=>[]);sel=null;pencil=0;high=null;start=Date.now();wrongs=0;errs=new Set();drawP();startT()}
function startT(){if(timer)clearInterval(timer);timer=setInterval(()=>{const e=~~((Date.now()-start)/1000),m=~~(e/60),s=e%60,sm=~~(puzzle.st/60),ss=puzzle.st%60;const t=$('timer');if(t)t.textContent=`Time: ${m}:${s.toString().padStart(2,'0')} | Staff: ${sm}:${ss.toString().padStart(2,'0')}`},1000)}
function drawP(){const mac=/Mac|iPhone|iPod|iPad/.test(navigator.userAgent)?'<div style="background:#fff3cd;padding:12px;border-radius:8px;margin-bottom:15px;font-size:0.9em;border-left:4px solid #ffc107"><strong>‚ö†Ô∏è Mac Users:</strong> If you add candidates in pencil mode, you may see horizontal grid lines appear. This is a Mac-specific rendering bug that I cannot fix, but it will not affect gameplay in any way.</div>':'';$('content').innerHTML=`<div class="info"><h2>December ${puzzle.d}, ${puzzle.y}</h2><div class="day">Day ${puzzle.d}</div><p><strong>${puzzle.name}</strong></p><div class="timer" id="timer">Time: 0:00</div></div>${mac}<div class="mode"><button id="nm" class="active" onclick="setMode(0)">‚úèÔ∏è Number</button><button id="pm" onclick="setMode(1)">üìù Pencil</button></div><div class="grid" id="grid"></div><div class="ctrl" id="ctrl"></div><div class="act"><button style="background:#28a745;color:#fff" onclick="check()">Check</button><button style="background:#ff6b6b;color:#fff" onclick="eraseE()">Erase Errors</button><button style="background:#17a2b8;color:#fff" onclick="learn()">Learn</button><button style="background:#dc3545;color:#fff" onclick="reset()">Reset</button><button style="background:#ffc107;color:#333;grid-column:span 2" onclick="share()">üì§ Share</button></div><div class="msg" id="msg"></div>`;drawGrid();drawCtrl()}
function setMode(p){pencil=p;$('nm').classList.toggle('active',!p);$('pm').classList.toggle('active',p)}
function drawGrid(){const g=$('grid');g.innerHTML='';for(let i=0;i<81;i++){const c=document.createElement('div');c.className='cell';c.dataset.index=i;if(init[i]){c.textContent=init[i];c.classList.add('given')}else if(grid[i]){c.textContent=grid[i];c.classList.add('filled')}else if(cand[i].length){const cd=document.createElement('div');cd.className='cand';for(let n=1;n<=9;n++){const sp=document.createElement('span');sp.textContent=cand[i].includes(n)?n:'';cd.appendChild(sp)}c.appendChild(cd)}if(errs.has(i))c.classList.add('err');else{const v=init[i]||grid[i];if(high!==null&&v===high)c.classList.add('high');else if(sel===i)c.classList.add('sel')}c.onclick=()=>click(i);c.ondblclick=()=>{sel=i;high=null;drawGrid()};g.appendChild(c)}}
function click(i){if(errs.has(i)){sel=i;high=null;drawGrid();return}if(init[i]){high=init[i];sel=null}else if(grid[i]){high=grid[i];sel=null}else{sel=i;high=null}drawGrid()}
function drawCtrl(){const c=$('ctrl');c.innerHTML='';for(let i=1;i<=9;i++){const b=document.createElement('button');b.textContent=i;b.onclick=()=>place(i);c.appendChild(b)}const cb=document.createElement('button');cb.textContent='Clear';cb.onclick=clear;c.appendChild(cb)}
function place(n){if(sel===null)return;if(pencil){if(init[sel]||grid[sel])return;const x=cand[sel].indexOf(n);if(x>-1)cand[sel].splice(x,1);else{cand[sel].push(n);cand[sel].sort()}}else{grid[sel]=n;cand[sel]=[];errs.delete(sel);remCand(sel,n);if(n&&n!==puzzle.sol[sel])errs.add(sel)}drawGrid();hide()}
function clear(){if(sel===null)return;if(errs.has(sel)){grid[sel]=0;cand[sel]=[];errs.delete(sel);drawGrid();hide();return}if(init[sel])return;if(pencil)cand[sel]=[];else{grid[sel]=0;cand[sel]=[];errs.delete(sel)}drawGrid();hide()}
function eraseE(){if(!errs.size){msg('No errors!','no');return}const n=errs.size;errs.forEach(i=>{grid[i]=0;cand[i]=[]});errs.clear();drawGrid();msg(`‚úì Erased ${n} error${n>1?'s':''}`,'ok');setTimeout(hide,2000)}
function remCand(i,n){const r=~~(i/9),c=i%9,br=~~(r/3)*3,bc=~~(c/3)*3;for(let x=0;x<9;x++){const j=r*9+x;if(j!==i){const k=cand[j].indexOf(n);if(k>-1)cand[j].splice(k,1)}}for(let x=0;x<9;x++){const j=x*9+c;if(j!==i){const k=cand[j].indexOf(n);if(k>-1)cand[j].splice(k,1)}}for(let x=0;x<3;x++)for(let y=0;y<3;y++){const j=(br+x)*9+(bc+y);if(j!==i){const k=cand[j].indexOf(n);if(k>-1)cand[j].splice(k,1)}}}
function check(){errs.clear();if(grid.includes(0)){msg('Not complete!','no');return}let ok=1;for(let i=0;i<81;i++){if(!init[i]&&grid[i]!==puzzle.sol[i]){ok=0;errs.add(i)}}if(ok){if(timer)clearInterval(timer);showModal(~~((Date.now()-start)/1000))}else{wrongs++;drawGrid();msg(`‚ùå ${errs.size} mistake${errs.size>1?'s':''} found (+15s)`,'no')}}
function showModal(t){const p=wrongs*15,f=t+p,st=puzzle.st,r=f/st;let s,txt,cls;if(r<=1){s='ü•á';txt='Excellent!';cls='rating-gold'}else if(r<=1.5){s='ü•à';txt='Great!';cls='rating-silver'}else if(r<=2){s='ü•â';txt='Good!';cls='rating-bronze'}else{s='‚úÖ';txt='Done!';cls='rating-complete'}const pts=calculatePoints(+puzzle.d,r);const bm=~~(t/60),bs=t%60,fm=~~(f/60),fs=f%60,sm=~~(st/60),ss=st%60;let pen='';if(p)pen=`<div style="font-size:.95em;margin:10px 0;padding:10px;background:#f8f9fa;border-radius:5px">Base: ${bm}:${bs.toString().padStart(2,'0')}<br>${wrongs?`Checks: ${wrongs} (+${p}s)<br>`:''}Penalty: +${p}s</div>`;saveProgress(puzzle.y,puzzle.d,{time:f,ratio:r.toFixed(2),points:pts.total,medal:s});updatePointsDisplay();const m=document.createElement('div');m.className='modal';m.innerHTML=`<div class="mcontent"><div class="mstar">${s}</div><div class="mtitle">Complete!</div><div class="mtime">Time: ${fm}:${fs.toString().padStart(2,'0')}</div>${pen}<div style="font-size:1.2em">Staff: ${sm}:${ss.toString().padStart(2,'0')}</div><div class="${cls}" style="font-size:1.3em;font-weight:bold;margin:15px 0">${txt}</div><div class="mpoints"><strong>Points Earned:</strong><br>Base: ${pts.base} pts<br>Time Bonus: ${pts.timeBonus} pts<br>Medal Bonus: ${pts.medalBonus} pts<br><strong style="font-size:1.2em">Total: +${pts.total} pts</strong><br><br>Your Total: ${getTotalPoints()} pts</div><button style="margin-top:20px;padding:15px 30px;background:#667eea;color:#fff;border:none;border-radius:10px;cursor:pointer" onclick="this.parentElement.parentElement.remove()">Continue</button></div>`;document.body.appendChild(m);setTimeout(()=>m.classList.add('show'),10);if(r<=1)conf()}
function conf(){const col=['#667eea','#764ba2','#FFD700','#FF6B6B'];for(let i=0;i<50;i++)setTimeout(()=>{const c=document.createElement('div');c.style.cssText=`position:fixed;width:10px;height:10px;background:${col[~~(Math.random()*col.length)]};left:${Math.random()*100}%;animation:cf 3s linear`;document.body.appendChild(c);setTimeout(()=>c.remove(),3000)},i*30)}
function learn(){open(`https://sudoku.coach/en/learn/${puzzle.slug}`,'_blank')}
function reset(){grid=[...init];cand=Array(81).fill(0).map(()=>[]);sel=null;high=null;pencil=0;start=Date.now();wrongs=0;errs=new Set();setMode(0);drawGrid();hide()}
function msg(t,c){const m=$('msg');m.textContent=t;m.className=`msg ${c}`}
function hide(){const m=$('msg');if(m)m.style.display='none'}
function showLock(y,d){$('content').innerHTML=`<div class="locked"><div class="licon">üîí</div><h2>Locked</h2><p>Available December ${d}, ${y}</p><div style="margin-top:20px;padding:20px;background:#f8f9fa;border-radius:10px"><p style="margin-bottom:10px">Secret key?</p><input type="text" id="ki" placeholder="Key" style="padding:10px;border:2px solid #667eea;border-radius:5px;width:200px;margin-right:10px"><button onclick="tryU('${y}',${d})" style="padding:10px 20px;background:#667eea;color:#fff;border:none;border-radius:5px;cursor:pointer">Unlock</button></div></div>`}
function tryU(y,d){if($('ki').value===KEY){const u=new URL(location);u.searchParams.set('key',KEY);location.href=u.toString()}else msg('Wrong!','no')}
function showCount(){const n=new Date(),t=n.getMonth()===11?new Date(n.getFullYear()+1,11,1):new Date(n.getFullYear(),11,1);$('content').innerHTML='<div class="locked"><div class="licon">üîí</div><h2>Coming Soon!</h2><p>December 1st</p><div class="day" id="ct"></div></div>';function upd(){const d=t-new Date();if(d<=0){location.reload();return}const dy=~~(d/864e5),h=~~(d%864e5/36e5),m=~~(d%36e5/6e4),s=~~(d%6e4/1e3);$('ct').textContent=`${dy}d ${h}h ${m}m ${s}s`}upd();setInterval(upd,1000)}
function showCong(){const p=getProgress();let completed=0;for(let y in p)for(let d in p[y])if(+d<=24)completed++;const bonus=completed===24?2000:0;const total=getTotalPoints();$('content').innerHTML=`<div class="locked"><div class="licon">üéÑ</div><h2>Merry Christmas!</h2><p>Thanks for completing ${completed}/24 puzzles!</p>${bonus?`<div class="stats"><h3>üéâ Consistency Bonus!</h3><p style="font-size:1.5em;font-weight:bold;color:#FFD700;margin:10px 0">+${bonus} points</p><p>You completed all 24 days!</p></div>`:''}<div class="stats"><h3>Final Score</h3><p style="font-size:2em;font-weight:bold;color:#667eea;margin:10px 0">${total+bonus} points</p></div><p style="margin-top:20px">See you next year! üéÖ</p></div>`;if(bonus){const prev=getTotalPoints();saveProgress('bonus','2024',{points:bonus});updatePointsDisplay()}}
function showStats(){const p=getProgress();const m=document.createElement('div');m.className='modal';let rows='';let totalP=0;for(let y in p){for(let d in p[y]){if(d==='bonus')continue;const data=p[y][d];rows+=`<div class="stat-row"><span>Dec ${d}, ${y}</span><span>${data.medal} ${data.points} pts</span></div>`;totalP+=data.points}}const prog=getProgress();let completed=0;for(let y in prog)for(let d in prog[y])if(+d<=24)completed++;const bonus=completed===24?2000:0;if(bonus&&prog.bonus)rows+=`<div class="stat-row"><span>Consistency Bonus</span><span>üéâ ${bonus} pts</span></div>`;m.innerHTML=`<div class="mcontent" style="max-width:500px"><div class="mtitle">Your Stats</div><div class="stats">${rows||'<p>No puzzles completed yet!</p>'}<div class="stat-row" style="border-top:2px solid #667eea;margin-top:10px;padding-top:10px"><strong>Total Points</strong><strong style="font-size:1.3em;color:#667eea">${getTotalPoints()} pts</strong></div><div style="margin-top:15px;color:#666;font-size:0.9em">Completed: ${completed}/24 puzzles</div></div><button style="margin-top:20px;padding:15px 30px;background:#667eea;color:#fff;border:none;border-radius:10px;cursor:pointer" onclick="this.parentElement.parentElement.remove()">Close</button></div>`;document.body.appendChild(m);setTimeout(()=>m.classList.add('show'),10)}
function toggleDark(){document.body.classList.toggle('dark');const d=document.body.classList.contains('dark');localStorage.setItem('dark',d);document.querySelector('.toggle').textContent=d?'‚òÄÔ∏è':'üåô'}
function loadDark(){if(localStorage.getItem('dark')==='true'){document.body.classList.add('dark');document.querySelector('.toggle').textContent='‚òÄÔ∏è'}}
function share(){const u=`https://ricky295.github.io/sudokuadventcalendar?y=${puzzle.y}&d=${puzzle.d}`;navigator.clipboard.writeText(u).then(()=>{msg('‚úì Copied!','ok');setTimeout(hide,2000)}).catch(()=>msg('Failed','no'))}
load()
</script>
</body>
</html>
